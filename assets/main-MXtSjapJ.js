import{g as v,h as S}from"./card-2aunGIH8.js";function u(e){const n=document.querySelector("#balls"),l=document.createElement("li"),a="BINGO"[Math.floor((e-1)/15)]+e.toString();l.innerHTML=`${a} <span class="badge bg-danger rounded-pill">X</span>`,l.classList.add("list-group-item","d-flex","justify-content-between","align-items-center");const o=l.querySelector("span");o.addEventListener("click",function t(){n.removeChild(l),o.removeEventListener("click",t),d()}),n.prepend(l),d()}function p(){const e=document.querySelector("#balls");return Array.from(e.children).map(n=>parseInt(n.innerHTML.slice(1)))}function m(){return new Set(p())}function h(e){var r,s;e.preventDefault();const n=e.target,l=(r=new FormData(n).get("ball"))==null?void 0:r.toString();if(!l)return;const a=n.querySelector("[name=ball]"),o=a.nextElementSibling,t=parseInt(((s=l.match(/[BINGO]?([0-9]+)/))==null?void 0:s[1])||"0"),i=m();t<1||t>75?(o.innerHTML="Enter a number between 1 and 75.",a.classList.add("is-invalid")):i.has(t)?(o.innerHTML="Number already picked.",a.classList.add("is-invalid")):(a.value="",a.classList.remove("is-invalid"),o.innerHTML="",u(t))}function L(){let e=0;const n=m();do e=Math.floor(Math.random()*75)+1;while(n.has(e));u(e)}function y(){if(confirm("Are you sure you want to clear the balls?")){const e=document.querySelector("#balls");e.innerHTML="",d()}}function M(){const e=localStorage.getItem("balls");e&&e.split(",").reverse().map(n=>parseInt(n)).forEach(n=>u(n))}function d(){localStorage.setItem("balls",p().join(","))}function q(e){const n=v(e);n[2][2]="X";const l=m(),a=n.map(t=>t.map(i=>l.has(i)));a[2][2]=!0;const o=document.createElement("div");return o.classList.add("bingo","mx-3"),o.innerHTML=`
      <div class="row">${"BINGO".split("").map(t=>`<div class="col"><b>${t}</b></div>`).join(`
`)}</div>${n.map((t,i)=>`<div class="row">
      ${t.map((r,s)=>`<div class="col${a[i][s]?" filled":""}">${r}</div>`).join(`
`)}
      </div>`).join(`
`)}`,o}function B(e){var i;e.preventDefault();const n=e.target,l=new FormData(n),a=n.querySelector("[name=card]"),o=(((i=l.get("card"))==null?void 0:i.toString())||"0").split(",").map(r=>r.trim()).filter(Boolean).map(r=>parseInt(r)),t=n.parentElement;for(const r of t.querySelectorAll(".bingo"))t.removeChild(r);for(const r of o){if(r<1){a.nextElementSibling.innerHTML="Enter a number &gt; 0",a.classList.add("is-invalid");return}a.nextElementSibling.innerHTML="",a.classList.remove("is-invalid"),t.appendChild(q(r))}}function c(e){e.classList.toggle("d-flex"),e.classList.toggle("d-none")}function b(){c(document.querySelector("#main")),c(document.querySelector("#generate"))}function g(){c(document.querySelector("#main")),c(document.querySelector("#validate"))}const f={"#ball-number":["submit",h],"#random-ball":["click",L],"#clear-balls":["click",y],"#generate-cards":["click",b],"#generate > button.btn-close":["click",b],"#cards":["submit",S],"#validate-card":["click",g],"#validate > button.btn-close":["click",g],"#card-number":["submit",B]};M();for(const e in f){const[n,l]=f[e];document.querySelector(e).addEventListener(n,l)}
